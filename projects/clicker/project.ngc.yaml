platform: Docker/web
from: HTML/base

do:
  - var: { name: counter, value: 0.0 }
  - var: { name: rate, value: 0.2 }
  - function: 
      name: loop
      do:
        - Arithmetic/add:
            args:
              left: counter
              right: rate
            return: counter
        - DOM/HTML/getHTMLElemById:
            args:
              id: >-
                "txt"
            return: counter_text
        - Math/round:
            args:
              x: counter
            return: counter_round
        - DOM/HTML/setElementTextContent:
            args:
              element: counter_text
              text: >-
                `${counter_round} breads`
  - Timer/interval:
      args:
        callback: loop
        interval: 100
  - function:
      name: addBread
      do:
        - Arithmetic/add:
            args:
              left: counter
              right: 1
            return: counter